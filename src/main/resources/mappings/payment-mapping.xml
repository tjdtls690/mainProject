<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="PaymentDAO">
	<select id="paymentGetCoupon" resultType="myPaymentCoupon">
		select a.user_code, b.*
		from user_coupon a left join coupon b 
		on a.coupon_code = b.coupon_code
		where user_code = #{user_code}
		order by a.user_code asc
	</select>
	<insert id="paymentInfoSave" parameterType="paymentDetailSide">
		insert into payment_info(payment_member_code, payment_recipient, payment_recipient_phone, payment_delivery_type,
		payment_zipcode, payment_address, payment_memo, payment_price, payment_delivery_price, payment_sum_price,
		payment_coupon_price, payment_point_price, payment_sail_price, payment_final_price) 
		values(#{payment_member_code}, #{payment_recipient}, #{payment_recipient_phone}, #{payment_delivery_type}, #{payment_zipcode}, #{payment_address}, 
		#{payment_memo}, #{payment_price}, #{payment_delivery_price}, #{payment_sum_price}, #{payment_coupon_price}, #{payment_point_price}, #{payment_sail_price}, #{payment_final_price});
	</insert>
</mapper>